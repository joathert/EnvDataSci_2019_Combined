urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11 00:00:00&to=2016-02-11 00:10:00&quality=ANY&averaging=NONE&type=NONE"
data.test <- read.csv(urltest)
urlstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META
&from=2016-02-11 00:00:00&to=2016-02-11 00:10:00&quality=ANY&averaging=NONE&type=NONE"
urlstring
read.csv(urlstring)
urlstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11 00:00:00&to=2016-02-11 00:10:00&quality=ANY&averaging=NONE&type=NONE"
read.csv(urlstring)
urlstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%00:00:00&to=2016-02-11%00:10:00&quality=ANY&averaging=NONE&type=NONE"
read.csv(urlstring)
urlstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11 00:00:00&to=2016-02-11 00:10:00&quality=ANY&averaging=NONE&type=NONE"
read.csv(urlstring)
time2<-Sys.time()-86400
timestr2<-format(time2,"%Y-%m-%d %H:%M:%S")
time1<-time2-3600
timestr1<-format(time1,"%Y-%m-%d %H:%M:%S")
View(data.test)
urlstring
data<-read.csv(urlstring)
data
data2<-read.csv(urlstring)
data2
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11 00:00:00&to=2016-02-11 00:10:00&quality=ANY&averaging=NONE&type=NONE"
data2<-read.csv(urltest)
data2
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11 00:00:00&to=2016-02-11 00:10:00&quality=ANY&averaging=NONE&type=none"
data2<-read.csv(urltest)
data2
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11 00:00:00&to=2016-02-11 00:10:00&quality=ANY&averaging=NONE&type=NONE"
data2<-read.csv(urltest)
data2
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11 00:00:00&to=2016-02-11 00:10:00&quality=ANY"
data2
data2<-read.csv(urltest)
data2
urltest
urlstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11 00:00:00&to=2016-02-11 00:10:00&quality=ANY&averaging=NONE&type=NONE"
read.csv(urlstring)
read.csv(urltest)
read.csv(urltest)
source('~/.active-rstudio-document')
source('/home/local/joathert/Teaching/EnvDataSci2019/notebooks/R/scratch/testR.R')
View(data2)
d<-read.csv(urlstring)
d
d<-read.csv(urlstring)
d
urstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
urlstring
data
```R
# Example SmartSMEAR API calls:
urstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
urlstring
```
The most simple way for retrieving data via SmartSMEAR API is using read.csv which returns the data stream as data frame. It works in basic R without additional libraries:
```R
data<-read.csv(urlstring)
class(data)
data
data
source('/home/local/joathert/Teaching/EnvDataSci2019/notebooks/R/scratch/testR.R')
d
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
```R
data<-read.csv(urltest)
class(data)
data
```
```R
# Construct times in POSIX time (seconds)
time2<-Sys.time()
format(time2,"%Y-%m-%d %H:%M:%S")
time2<-as.POSIXct("2018-10-29 12:00:00")
format(time2,"%Y-%m-%d %H:%M:%S")
time1<-time2-3600
format(time1,"%Y-%m-%d %H:%M:%S")
```
```R
data<-read.csv(urltest)
class(data)
data
```
```R
data<-read.csv(urltest)
class(data)
data
```
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
```R
data<-read.csv(urltest)
class(data)
data
```
data<-read.csv(urltest)
data
class(data)
data
```R
data<-read.csv(urltest)
class(data)
data
```R
data<-read.csv(urltest)
class(data)
data
time2<-Sys.time()
format(time2,"%Y-%m-%d %H:%M:%S")
time2<-as.POSIXct("2018-10-29 12:00:00")
format(time2,"%Y-%m-%d %H:%M:%S")
time1<-time2-3600
format(time1,"%Y-%m-%d %H:%M:%S")
time2<-Sys.time()-86400
timestr2<-format(time2,"%Y-%m-%d %H:%M:%S")
time1<-time2-3600
timestr1<-format(time1,"%Y-%m-%d %H:%M:%S")
urlstring<-paste("https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=",
timestr1,"&to=",timestr2,
"&quality=ANY&averaging=30MIN&type=ARITHMETIC",sep="")
urlstring
data<-read.csv(urlstring)
data
timestr1
urlstring
d
d<-read.csv(urltest2)
d<-read.csv(urltest2)
d
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2020-03-02 16:23:52&to=2020-03-02 17:23:52&quality=ANY&averaging=30MIN&type=ARITHMETIC"
d<-read.csv(urltest2)
d
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2020-03-02 16:23:52&to=2020-03-02 17:23:52&quality=ANY&averaging=30MIN&type=ARITHMETIC"
d<-read.csv(urltest2)
d
d<-read.csv(urltest2)
head(d)
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
#urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2020-03-02 16:23:52&to=2020-03-02 17:23:52&quality=ANY&averaging=30MIN&type=ARITHMETIC"
urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
d<-read.csv(urltest2)
head(d)
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
#urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2020-03-02 16:23:52&to=2020-03-02 17:23:52&quality=ANY&averaging=30MIN&type=ARITHMETIC"
urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
d<-read.csv(urltest2)
head(d)
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
#urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2020-03-02 16:23:52&to=2020-03-02 17:23:52&quality=ANY&averaging=30MIN&type=ARITHMETIC"
urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2016-02-11%2000:00:00&to=2016-02-12%2009:06:07&quality=ANY&averaging=30MIN&type=ARITHMETIC"
d<-read.csv(urltest2)
head(d)
d<-read.csv(urltest2)
head(d)
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2020-03-02%2016:23:52&to=2020-03-02%2017:23:52&quality=ANY&averaging=30MIN&type=ARITHMETIC"
#urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2016-02-11%2000:00:00&to=2016-02-12%2009:06:07&quality=ANY&averaging=30MIN&type=ARITHMETIC"
d<-read.csv(urltest2)
head(d)
d
d
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2020-03-02%2016:23:52&to=2020-03-02%2017:23:52&quality=ANY&averaging=30MIN&type=ARITHMETIC"
#urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2016-02-11%2000:00:00&to=2016-02-12%2009:06:07&quality=ANY&averaging=30MIN&type=ARITHMETIC"
urlstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00&to=2016-02-11%2000:10:00&quality=ANY&averaging=NONE&type=NONE"
urlstring2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:11:00&to=2016-02-11%2000:20:00&quality=ANY&averaging=NONE&type=NONE"
urlstring
urlstring2
d<-read.csv(urlstring)
head(d)
d<-read.csv(urlstring2)
urltest<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00.989&to=2016-02-12%2009:06:07.989&quality=ANY&averaging=30MIN&type=ARITHMETIC"
urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2020-03-02%2016:23:52&to=2020-03-02%2017:23:52&quality=ANY&averaging=30MIN&type=ARITHMETIC"
#urltest2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=T168,T672&table=HYY_META&from=2016-02-11%2000:00:00&to=2016-02-12%2009:06:07&quality=ANY&averaging=30MIN&type=ARITHMETIC"
urlstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00&to=2016-02-11%2000:10:00&quality=ANY&averaging=NONE&type=NONE"
urlstring2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:11:00&to=2016-02-11%2000:20:00&quality=ANY&averaging=NONE&type=NONE"
urlstring
urlstring2
d<-read.csv(urlstring2)
head(d)
```R
urlstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:00:00&to=2016-02-11%2000:10:00&quality=ANY&averaging=NONE&type=NONE"
urlstring2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-02-11%2000:11:00&to=2016-02-11%2000:20:00&quality=ANY&averaging=NONE&type=NONE"
urlstring
urlstring2
```R
data<-read.csv(urlstring)
data2<-read.csv(urlstring2)
data2
time2<-as.POSIXct("2018-10-29 12:00:00")
format(time2,"%Y-%m-%d %H:%M:%S")
time2<-Sys.time()-86400
timestr2<-format(time2,"%Y-%m-%d %H:%M:%S")
time1<-time2-3600
timestr1<-format(time1,"%Y-%m-%d %H:%M:%S")
timestr1
time2<-Sys.time()-86400
timestr2<-format(time2,"%Y-%m-%d %H:%M:%S")
time1<-time2-3600
timestr1<-format(time1,"%Y-%m-%d%%20%H:%M:%S")
time2<-Sys.time()-86400
timestr2<-format(time2,"%Y-%m-%d %H:%M:%S")
time1<-time2-3600
timestr1<-format(time1,"%Y-%m-%d%%20%H:%M:%S")
timestr1
time2<-Sys.time()-86400
timestr2<-format(time2,"%Y-%m-%d%%20%H:%M:%S")
time1<-time2-3600
timestr1<-format(time1,"%Y-%m-%d%%20%H:%M:%S")
data
time1
print(urlstring)
return(read.csv(urlstring))
meta<-read.csv(url)
meta
url<-"https://avaa.tdata.fi/smart-smear-portlet/variablemeta.jsp?tablevariables=HYY_META.Glob&format=csv"
meta
url<-"https://avaa.tdata.fi/smart-smear-portlet/variablemeta.jsp?tablevariables=HYY_META.Glob"
meta<-read.csv(url)
meta
url<-"https://avaa.tdata.fi/smart-smear-portlet/variablemeta.jsp?tablevariables=HYY_META.Glob&format=csv"
meta<-read.csv(url)
meta
meta
urlstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META
&from=2016-02-11 00:00:00&to=2016-02-11 00:10:00&quality=ANY&averaging=NONE&type=NONE"
urlstring
data<-read.csv(urlstring)
urlstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META
&from=2016-04-11 00:00:00&to=2016-04-11 00:10:00&quality=ANY&averaging=NONE&type=NONE"
urlstring
data<-read.csv(urlstring)
data<-read.csv(urlstring)
data<-read.csv(urlstring)
urlstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-04-11 00:00:00&to=2016-04-11 00:10:00&quality=ANY&averaging=NONE&type=NONE"
data<-read.csv(urlstring)
data
```R
urlstring<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-04-11%2000:00:00&to=2016-04-11%2000:10:00&quality=ANY&averaging=NONE&type=NONE"
urlstring2<-"https://avaa.tdata.fi/smear-services/smeardata.jsp?variables=Pamb0,UV_B&table=HYY_META&from=2016-04-11%2000:11:00&to=2016-04-11%2000:20:00&quality=ANY&averaging=NONE&type=NONE"
class(data)
data
data2
data
```
class(data)
data
data2
data
```
data<-read.csv(urlstring)
data2<-read.csv(urlstring2)
data
data2
class(data)
data
data2
data
time2<-as.POSIXct("2018-10-29 12:00:00")
format(time2,"%Y-%m-%d %H:%M:%S")
time1<-time2-3600
format(time1,"%Y-%m-%d %H:%M:%S")
```
